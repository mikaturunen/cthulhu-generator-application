link(rel="import" href="../polymer/polymer.html")
link(rel="import" href="../cthulhu-style/cthulhu-style.html")

link(rel="import" href="../pushstate-anchor/pushstate-anchor.html")
link(rel="import" href="../app-router/app-router.html")
link(rel="import" href="../cthulhu-auth-service/cthulhu-auth-service.html")
link(rel="import" href="../cthulhu-login/cthulhu-login.html")

dom-module#cthulhu-application
	link(rel="import" type="css" href="../../components/cthulhu-application/cthulhu-application.css")
	template
		style(include="cthulhu-style")
		cthulhu-auth-service

		//- Define routes here to match the URL + view. Notice that if user clicks on the page and navigates
		//- to path X the backend does not send a new index.html but if the user hits F5 or navigates directly
		//- to path Y the backend needs to match that specific path (for example: /foobar) needs to send the
		//- index.html to front so that the frontend can then sort itself out into correct path.
		//- -> https://erikringsmuth.github.io/app-router/ documentation
		app-router(mode="pushstate" trailingslash="ignore")
			app-route(path="/login" import="../../components/cthulhu-login-view/cthulhu-login-view.html")
			//- front view is just made up, I didn't have any better ideas of where to navigate from
			//- successful login (name wise). Maybe some sort of management screen? GM stuff, party management,'
			//- character management etc. 
			app-route(path="/characters" import="../../components/cthulhu-characters-view/cthulhu-characters-view.html")
			app-route(path="*" redirect="/characters")


	script(src="../../components/cthulhu-application/cthulhu-application.js")
